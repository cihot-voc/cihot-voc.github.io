import{H as u,l as x,K as j,j as e,U as f,B as a,V as y,A as i}from"../web.js";import{u as g,c as I}from"./use-yup-params-Dnhb_jxx.js";import{r as R,a as h}from"./render-DV2xt8Nh.js";import{F as k}from"./Table-CIm57QHK.js";import{T as A}from"./index-CEei4g-w.js";import{R as L}from"./EditFilled-CAVP73L2.js";import{R as $}from"./DeleteOutlined-DRPUzII6.js";import"./index-CnArOheJ.js";import"./DownOutlined-BOejTe-8.js";import"./styleChecker-Dm5BrqJD.js";import"./index-FSKOGNa8.js";import"./dropdown-Cm4ewUVg.js";import"./index-YURHDDc0.js";import"./useBubbleLock-CGne4fs5.js";import"./index-DtL6-pAe.js";function M(){const s=u(),{projectId:t}=g({projectId:I().default(0)}),{data:n,isLoading:d,refetch:l}=x(["role","list",t],()=>i.roles.getList(t),{enabled:t>0}),{mutateAsync:p,isLoading:c}=j(({projectId:o,roleId:r})=>i.roles.delete(o,r),{onSuccess:()=>{l()}}),m=[{key:"roleId",title:"ID",dataIndex:"roleId",width:50},{key:"name",title:"Name",dataIndex:"name",render:R},{key:"updatedAt",title:"시간",dataIndex:"updatedAt",render:h,width:140},{key:"actions",dataIndex:"roleId",render:o=>e.jsxs(e.Fragment,{children:[e.jsx(a,{type:"link",onClick:r=>{r.stopPropagation(),s(`/projects/${t}/roles/${o}/update`)},children:e.jsx(L,{})}),e.jsx(a,{loading:c,type:"text",icon:e.jsx($,{}),danger:!0,onClick:r=>{r.stopPropagation(),p({projectId:t,roleId:o})}})]}),width:80}];return e.jsx("div",{children:e.jsx(k,{dataSource:n,rowKey:"roleId",loading:d,columns:m,tableLayout:"fixed",title:()=>e.jsxs(f,{justify:"space-between",children:[e.jsx(A.Text,{children:"Roles"}),e.jsx(a,{type:"primary",onClick:()=>s(`/projects/${t}/roles/create`),icon:e.jsx(y,{})})]}),onRow:({roleId:o})=>({style:{cursor:"pointer"},onClick:()=>s(`/projects/${t}/roles/${o}`)})})})}export{M as default};
