import{D as p,q as u,A as r,G as d,j as e,F as s,i as h,B as j,H as x}from"../web.js";import{C as y}from"./channel-BGoHa5Dv.js";import{P as b}from"./permission-D5ZL2PSw.js";import{I as g}from"./css-C3h7-5aW.js";import{u as I,c as f}from"./use-yup-params-p5E1rgJi.js";import"./index-Ca2pGdAr.js";import"./useBubbleLock-p8oIxmFz.js";import"./DownOutlined-BOejTe-8.js";import"./index-d5N8vm3K.js";import"./index-DzbnNVrb.js";import"./styleChecker-DjwUci1A.js";function B(){const n=p(),{projectId:t}=I({projectId:f().required()}),{data:a=[]}=u(`project-${t}-channels`,r.channels.getList.bind(null,t),{enabled:t>0}),{mutateAsync:i,isLoading:o}=d(r.roles.create,{onSuccess:()=>{n(`/projects/${t}`,{replace:!0})}}),l=m=>{i({projectId:t,payload:m})},c=[{label:"명칭",key:"name",children:e.jsx(s.Item,{name:"name",required:!0,children:e.jsx(h,{type:"text",autoFocus:!0})})},{label:"권한",key:"permission",children:e.jsx(s.Item,{name:"permission",required:!0,children:e.jsx(b,{})})},{label:"채널",key:"channels",children:e.jsx(s.Item,{name:"channelIds",children:e.jsx(y,{channels:a})}),span:2},{labelStyle:{borderRight:"none",visibility:"hidden"},span:2,contentStyle:{textAlign:"right"},children:e.jsx(j,{type:"primary",htmlType:"submit",loading:o,children:"저장"})}];return e.jsx("div",{className:g,children:e.jsx(s,{onFinish:l,children:e.jsx(x,{title:"Create Role",column:1,bordered:!0,size:"small",colon:!0,labelStyle:{whiteSpace:"nowrap"},items:c})})})}export{B as default};
