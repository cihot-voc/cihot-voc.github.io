import{D as u,q as x,G as j,j as e,N as f,B as a,P as y,A as i}from"../web.js";import{u as g,c as I}from"./use-yup-params-p5E1rgJi.js";import{r as R,a as h}from"./render-8vBP4ikl.js";import{F as k}from"./Table-Qq_R4DkJ.js";import{T as A}from"./index-DzbnNVrb.js";import{R as L}from"./EditFilled-CAVP73L2.js";import{R as $}from"./DeleteOutlined-DRPUzII6.js";import"./index-XZoU7LEC.js";import"./DownOutlined-BOejTe-8.js";import"./styleChecker-DjwUci1A.js";import"./index-AROoAIfj.js";import"./dropdown-QIiZhNxb.js";import"./index-d5N8vm3K.js";import"./index-Ca2pGdAr.js";import"./useBubbleLock-p8oIxmFz.js";import"./index-D1GW4F26.js";function Q(){const s=u(),{projectId:t}=g({projectId:I().default(0)}),{data:n,isLoading:d,refetch:l}=x(["role","list",t],()=>i.roles.getList(t),{enabled:t>0}),{mutateAsync:p,isLoading:c}=j(({projectId:o,roleId:r})=>i.roles.delete(o,r),{onSuccess:()=>{l()}}),m=[{key:"roleId",title:"ID",dataIndex:"roleId",width:50},{key:"name",title:"Name",dataIndex:"name",render:R},{key:"updatedAt",title:"시간",dataIndex:"updatedAt",render:h,width:140},{key:"actions",dataIndex:"roleId",render:o=>e.jsxs(e.Fragment,{children:[e.jsx(a,{type:"link",onClick:r=>{r.stopPropagation(),s(`/projects/${t}/roles/${o}/update`)},children:e.jsx(L,{})}),e.jsx(a,{loading:c,type:"text",icon:e.jsx($,{}),danger:!0,onClick:r=>{r.stopPropagation(),p({projectId:t,roleId:o})}})]}),width:80}];return e.jsx("div",{children:e.jsx(k,{dataSource:n,rowKey:"roleId",loading:d,columns:m,tableLayout:"fixed",title:()=>e.jsxs(f,{justify:"space-between",children:[e.jsx(A.Text,{children:"Roles"}),e.jsx(a,{type:"primary",onClick:()=>s(`/projects/${t}/roles/create`),icon:e.jsx(y,{})})]}),onRow:({roleId:o})=>({style:{cursor:"pointer"},onClick:()=>s(`/projects/${t}/roles/${o}`)})})})}export{Q as default};
