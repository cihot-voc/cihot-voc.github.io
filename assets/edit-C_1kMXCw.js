import{e as x,u as v,a2 as E,a3 as w,f as y,b as j,g as D,r as V,h as I,j as e,S as C,C as L,c as s,d as n,s as b,y as P,I as c,B as F}from"../web.js";import{Q}from"./quill-editor-Dx_IFHfC.js";import{e as S}from"./css-Dwe9CNOk.js";import{C as T}from"./index-BIS5sDnV.js";import"./index--sEWkCeX.js";function J(){const[d]=x(),p=v();console.debug("useNavigationType",E()),console.debug("useNavigation",w());const{id:i}=y(),l=i!==void 0,u=l?"put":"post",{refetch:N}=j(),{data:o}=D(),g=V.useMemo(()=>Array.isArray(o)?o.map(({id:r,name:t})=>({label:t,value:r})):[],[o]),{data:f,isLoading:m,isError:h,error:a}=I(["blog",i],async()=>n.get(`/post/${i}`),{enabled:l});return h?e.jsxDEV("pre",{children:a==null?void 0:a.error},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:48,columnNumber:23},this):m?e.jsxDEV(C,{},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:50,columnNumber:25},this):e.jsxDEV(L,{title:`게시글 등록 ${u} ${m?"...":""}`,className:S,bordered:!0,children:e.jsxDEV(s,{initialValues:f,layout:"vertical",form:d,onFinish:r=>{n[u]("/post",r).then(t=>{b.success(e.jsxDEV(P.Paragraph,{ellipsis:{rows:3},style:{maxWidth:"90vw"},children:JSON.stringify(t)},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:71,columnNumber:17},this)),N(),p("..")}).catch(t=>b.error(JSON.stringify(t)))},children:[e.jsxDEV(s.Item,{name:"id",hidden:!0,children:e.jsxDEV(c,{},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:81,columnNumber:47},this)},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:81,columnNumber:9},this),e.jsxDEV(s.Item,{name:"title",label:"제목",rules:[{required:!0}],children:e.jsxDEV(c,{tabIndex:1,autoFocus:!0},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:83,columnNumber:11},this)},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:82,columnNumber:9},this),e.jsxDEV(s.Item,{name:"categories",initialValue:[],children:e.jsxDEV(T.Group,{options:g},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:86,columnNumber:11},this)},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:85,columnNumber:9},this),e.jsxDEV(s.Item,{name:"content",label:"내용",rules:[{required:!0}],children:e.jsxDEV(Q,{theme:"snow",tabIndex:1},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:89,columnNumber:11},this)},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:88,columnNumber:9},this),e.jsxDEV(s.Item,{children:e.jsxDEV(F,{htmlType:"submit",children:"저장"},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:92,columnNumber:11},this)},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:91,columnNumber:9},this)]},void 0,!0,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:54,columnNumber:7},this)},void 0,!1,{fileName:"/web/src/pages/blog/post/edit.tsx",lineNumber:53,columnNumber:5},this)}export{J as default};
