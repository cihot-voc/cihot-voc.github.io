import{k as A,m as B,l as P,n as f,r as u,o as k,p as W,t as G,j as t,R as D,v as h,w as y,x as R,u as U,y as E,B as _,S as H,f as F,z as J,A as q,O as X}from"../web.js";import{d as K,A as z}from"./dayjs.min-CToE11c2.js";import{d as Q}from"./css-Dwe9CNOk.js";import{S as Z}from"./index-RTFnNPgs.js";const ee=e=>{const{componentCls:i,sizePaddingEdgeHorizontal:o,colorSplit:r,lineWidth:n,textPaddingInline:d,orientationMargin:c,verticalMarginInline:l}=e;return{[i]:Object.assign(Object.assign({},P(e)),{borderBlockStart:`${f(n)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:l,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${f(n)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${f(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${i}-with-text`]:{display:"flex",alignItems:"center",margin:`${f(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${f(n)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${i}-with-text-left`]:{"&::before":{width:`calc(${c} * 100%)`},"&::after":{width:`calc(100% - ${c} * 100%)`}},[`&-horizontal${i}-with-text-right`]:{"&::before":{width:`calc(100% - ${c} * 100%)`},"&::after":{width:`calc(${c} * 100%)`}},[`${i}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:d},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${f(n)} 0 0`},[`&-horizontal${i}-with-text${i}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${i}-dashed`]:{borderInlineStartWidth:n,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${f(n)} 0 0`},[`&-horizontal${i}-with-text${i}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${i}-dotted`]:{borderInlineStartWidth:n,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${i}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${i}-with-text-left${i}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${i}-inner-text`]:{paddingInlineStart:o}},[`&-horizontal${i}-with-text-right${i}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${i}-inner-text`]:{paddingInlineEnd:o}}})}},te=e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),ie=A("Divider",e=>{const i=B(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[ee(i)]},te,{unitless:{orientationMargin:!0}});var re=function(e,i){var o={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)i.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(o[r[n]]=e[r[n]]);return o};const L=e=>{const{getPrefixCls:i,direction:o,divider:r}=u.useContext(k),{prefixCls:n,type:d="horizontal",orientation:c="center",orientationMargin:l,className:a,rootClassName:p,children:b,dashed:x,variant:m="solid",plain:g,style:v}=e,N=re(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),s=i("divider",n),[j,O,T]=ie(s),$=!!b,S=c==="left"&&l!=null,V=c==="right"&&l!=null,I=W(s,r==null?void 0:r.className,O,T,`${s}-${d}`,{[`${s}-with-text`]:$,[`${s}-with-text-${c}`]:$,[`${s}-dashed`]:!!x,[`${s}-${m}`]:m!=="solid",[`${s}-plain`]:!!g,[`${s}-rtl`]:o==="rtl",[`${s}-no-default-orientation-margin-left`]:S,[`${s}-no-default-orientation-margin-right`]:V},a,p),C=u.useMemo(()=>typeof l=="number"?l:/^\d+$/.test(l)?Number(l):l,[l]),Y=Object.assign(Object.assign({},S&&{marginLeft:C}),V&&{marginRight:C});return G("Divider")(!b||d!=="vertical","usage","`children` not working in `vertical` mode."),j(u.createElement("div",Object.assign({className:I,style:Object.assign(Object.assign({},r==null?void 0:r.style),v)},N,{role:"separator"}),b&&d!=="vertical"&&u.createElement("span",{className:`${s}-inner-text`,style:Y},b)))};L.displayName="Divider";const w=e=>{if(e===null)return e;const i=new Date(e);return isNaN(i.getTime())?null:K(i)},ne=({data:e})=>{var i,o;return t.jsxDEV("div",{className:se,children:[t.jsxDEV(z,{src:e.authorUser.avatar},void 0,!1,{fileName:"/web/src/pages/blog/comment/item.tsx",lineNumber:9,columnNumber:7},void 0),t.jsxDEV("div",{className:"right",children:[t.jsxDEV(D,{className:"info",children:[t.jsxDEV(h,{className:"name",xs:24,md:12,children:e.authorUser.name},void 0,!1,{fileName:"/web/src/pages/blog/comment/item.tsx",lineNumber:12,columnNumber:11},void 0),t.jsxDEV(h,{className:"datetime",xs:24,md:12,children:e.createdAt===e.updatedAt?(i=w(e.createdAt))==null?void 0:i.format("YYYY-MM-DD HH:mm 등록함"):(o=w(e.updatedAt))==null?void 0:o.format("YYYY-MM-DD HH:mm 수정함")},void 0,!1,{fileName:"/web/src/pages/blog/comment/item.tsx",lineNumber:15,columnNumber:11},void 0)]},void 0,!0,{fileName:"/web/src/pages/blog/comment/item.tsx",lineNumber:11,columnNumber:9},void 0),t.jsxDEV("div",{dangerouslySetInnerHTML:{__html:e.content??""}},void 0,!1,{fileName:"/web/src/pages/blog/comment/item.tsx",lineNumber:21,columnNumber:9},void 0)]},void 0,!0,{fileName:"/web/src/pages/blog/comment/item.tsx",lineNumber:10,columnNumber:7},void 0)]},void 0,!0,{fileName:"/web/src/pages/blog/comment/item.tsx",lineNumber:8,columnNumber:5},void 0)},se=y`
  display: flex;
  flex-direction: row;
  gap: 8px;
  margin-bottom: 8px;

  .right {
    flex-grow: 1;
  }

  .info {
    width: 100%;
    display: flex;
    justify-content: space-between;
  }

  img {
    max-width: clamp(10vw, 50%, 30vw);
  }
`,{Paragraph:oe}=E;function le({postId:e}){const{data:i,isSuccess:o,error:r}=R(e),n=U();return u.useEffect(()=>{console.debug({postId:e})},[e]),isNaN(e)?t.jsxDEV("div",{children:"postId가 없습니다."},void 0,!1,{fileName:"/web/src/pages/blog/comment/list.tsx",lineNumber:27,columnNumber:29},this):r?t.jsxDEV("div",{children:JSON.stringify(r)},void 0,!1,{fileName:"/web/src/pages/blog/comment/list.tsx",lineNumber:29,columnNumber:21},this):o?t.jsxDEV("div",{className:ae,children:t.jsxDEV(E,{children:[t.jsxDEV(oe,{type:"secondary",children:["공식 협의",t.jsxDEV(_,{type:"link",onClick:()=>n("comments/create"),children:"글쓰기"},void 0,!1,{fileName:"/web/src/pages/blog/comment/list.tsx",lineNumber:37,columnNumber:13},this)]},void 0,!0,{fileName:"/web/src/pages/blog/comment/list.tsx",lineNumber:35,columnNumber:11},this),i.map(d=>t.jsxDEV(ne,{data:d},d.id,!1,{fileName:"/web/src/pages/blog/comment/list.tsx",lineNumber:42,columnNumber:13},this))]},void 0,!0,{fileName:"/web/src/pages/blog/comment/list.tsx",lineNumber:34,columnNumber:9},this)},void 0,!1,{fileName:"/web/src/pages/blog/comment/list.tsx",lineNumber:33,columnNumber:7},this):t.jsxDEV(H,{},void 0,!1,{fileName:"/web/src/pages/blog/comment/list.tsx",lineNumber:48,columnNumber:10},this)}const ae=y`
  padding: 8px;
  border: 2px solid #ff01;

  .title {
    font-weight: bold;
  }

  min-height: 10em;
`;function me(){return t.jsxDEV("div",{className:de,children:t.jsxDEV("div",{className:"title",children:"내부 협의"},void 0,!1,{fileName:"/web/src/pages/blog/consultation/list.tsx",lineNumber:6,columnNumber:7},this)},void 0,!1,{fileName:"/web/src/pages/blog/consultation/list.tsx",lineNumber:5,columnNumber:5},this)}const de=y`
  padding: 8px;
  border: 2px solid #ff01;

  .title {
    font-weight: bold;
  }

  min-height: 10em;
`,{Title:ce,Text:M}=E;function Ne(){var b,x;const e=F(),i=Number(e.postId),[o,r]=u.useState(""),{data:n,isSuccess:d,isError:c,error:l}=J(i),a=u.useMemo(()=>{const m=n==null?void 0:n.content,g=document.createElement("div");return typeof m=="string"&&m.length&&(g.innerHTML=m),g},[n]),p=u.useMemo(()=>Array.from(a.querySelectorAll("img")),[a]);return u.useEffect(()=>{p.forEach(m=>{var v;const g=m.getAttribute("src")??"";if(g){const N=Number((v=g.match(/^\/*(\d+)$/))==null?void 0:v[1]);isNaN(N)===!1&&N>0&&(m.src="/loading.gif",r(a.innerHTML),q(N).then(s=>{if(s instanceof Blob){console.debug(s);const j=URL.createObjectURL(s);m.src=j,console.debug(a.innerHTML),r(a.innerHTML)}}).catch(s=>{console.error(s),m.src="/no-image.png",r(a.innerHTML)}))}}),console.debug("content",o)},[p,r,o,a.innerHTML]),c?t.jsxDEV("pre",{children:JSON.stringify(l)},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:99,columnNumber:23},this):d?(console.debug("----",n.content),t.jsxDEV("div",{className:Q,children:[t.jsxDEV(E,{children:[t.jsxDEV(ce,{level:3,children:n.title},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:108,columnNumber:11},this),t.jsxDEV(D,{gutter:[24,8],children:[t.jsxDEV(h,{xs:24,sm:12,children:t.jsxDEV(Z,{children:[t.jsxDEV(z,{src:n.authorUser.avatar},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:113,columnNumber:17},this),t.jsxDEV(M,{type:"secondary",children:n.authorUser.name},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:114,columnNumber:17},this)]},void 0,!0,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:112,columnNumber:15},this)},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:111,columnNumber:13},this),t.jsxDEV(h,{xs:24,sm:12,children:t.jsxDEV(M,{type:"secondary",children:n.createdAt===n.updatedAt?(b=w(n.createdAt))==null?void 0:b.format("YYYY-MM-DD HH:mm 등록"):(x=w(n.updatedAt))==null?void 0:x.format("YYYY-MM-DD HH:mm 등록")},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:118,columnNumber:15},this)},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:117,columnNumber:13},this)]},void 0,!0,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:110,columnNumber:11},this),a.innerHTML?t.jsxDEV("div",{className:"content",dangerouslySetInnerHTML:{__html:a.innerHTML}},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:126,columnNumber:13},this):t.jsxDEV("div",{className:"no-content",children:"내용 없음"},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:128,columnNumber:13},this)]},void 0,!0,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:107,columnNumber:9},this),t.jsxDEV(L,{},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:131,columnNumber:9},this),t.jsxDEV(X,{},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:132,columnNumber:9},this),t.jsxDEV(D,{gutter:[8,8],children:[t.jsxDEV(h,{xs:24,md:12,children:t.jsxDEV(le,{postId:i},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:135,columnNumber:13},this)},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:134,columnNumber:11},this),t.jsxDEV(h,{xs:24,md:12,children:t.jsxDEV(me,{},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:138,columnNumber:13},this)},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:137,columnNumber:11},this)]},void 0,!0,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:133,columnNumber:9},this)]},void 0,!0,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:106,columnNumber:7},this)):t.jsxDEV(H,{},void 0,!1,{fileName:"/web/src/pages/blog/post/detail.tsx",lineNumber:145,columnNumber:10},this)}export{Ne as default};
