import{H as x,l as h,K as j,j as e,U as y,B as i,V as g,O as f,A as d}from"../web.js";import{u as I,c as C}from"./use-yup-params-Dnhb_jxx.js";import{a as k}from"./render-DV2xt8Nh.js";import{F as s}from"./Table-CIm57QHK.js";import{T as w}from"./index-CEei4g-w.js";import{R as A}from"./EditFilled-CAVP73L2.js";import{R}from"./DeleteFilled-CRc1QtDf.js";import"./index-CnArOheJ.js";import"./DownOutlined-BOejTe-8.js";import"./styleChecker-Dm5BrqJD.js";import"./index-FSKOGNa8.js";import"./dropdown-Cm4ewUVg.js";import"./index-YURHDDc0.js";import"./useBubbleLock-CGne4fs5.js";import"./index-DtL6-pAe.js";function U(){const l=x(),{projectId:a}=I({projectId:C().required()}),{data:n,isLoading:c,refetch:m}=h("getChannels",()=>d.channels.getList(a),{initialData:[]}),{mutateAsync:p}=j(({projectId:r,channelId:t})=>d.channels.delete(r,t),{onSuccess:()=>{m()}}),u=[{key:"channelId",title:"ID",dataIndex:"channelId",width:80,align:"right"},{key:"name",title:"Name",dataIndex:"name"},{key:"updatedAt",title:"시간",dataIndex:"updatedAt",render:k,width:150},{key:"actions",width:120,align:"right",render:(r,{channelId:t})=>e.jsxs(e.Fragment,{children:[e.jsx(i,{size:"small",type:"text",title:"Edit",icon:e.jsx(A,{}),onClick:o=>{o.stopPropagation(),l(`/projects/${a}/channels/${t}/update`)}}),e.jsx(i,{size:"small",type:"text",icon:e.jsx(R,{}),onClick:o=>{o.stopPropagation(),p({projectId:a,channelId:t})}})]})}];return e.jsxs("div",{children:[e.jsx(s,{title:()=>e.jsxs(y,{justify:"space-between",children:[e.jsx(w.Text,{children:"Channels"}),e.jsx(i,{type:"primary",onClick:()=>l(`/projects/${a}/channels/create`),icon:e.jsx(g,{})})]}),summary:()=>e.jsxs(s.Summary.Row,{children:[e.jsx(s.Summary.Cell,{index:0,colSpan:3,children:"Total"}),e.jsx(s.Summary.Cell,{index:1,children:n==null?void 0:n.length})]}),dataSource:n,columns:u,onRow:r=>({style:{cursor:"pointer"},onClick:t=>{console.debug("record:",r)}}),rowKey:"channelId",loading:c,tableLayout:"fixed"}),e.jsx(f,{})]})}export{U as default};
