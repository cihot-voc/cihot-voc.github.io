import{H as u,l as p,A as r,K as d,j as e,F as t,i as h,B as j,M as x}from"../web.js";import{C as y}from"./channel-B5aFHDk5.js";import{P as b}from"./permission-BUB8cXO8.js";import{I as g}from"./css-C3h7-5aW.js";import{u as I,c as f}from"./use-yup-params-Dnhb_jxx.js";import"./index-YURHDDc0.js";import"./useBubbleLock-CGne4fs5.js";import"./DownOutlined-BOejTe-8.js";import"./index-CEei4g-w.js";import"./styleChecker-Dm5BrqJD.js";function w(){const n=u(),{projectId:s}=I({projectId:f().required()}),{data:a=[]}=p(`project-${s}-channels`,r.channels.getList.bind(null,s),{enabled:s>0}),{mutateAsync:i,isLoading:o}=d(r.roles.create,{onSuccess:()=>{n(`/projects/${s}`,{replace:!0})}}),l=m=>{i({projectId:s,payload:m})},c=[{label:"명칭",key:"name",children:e.jsx(t.Item,{name:"name",rules:[{required:!0,message:"명칭을 입력하세요."}],children:e.jsx(h,{type:"text",autoFocus:!0})})},{label:"권한",key:"permission",children:e.jsx(t.Item,{name:"permission",rules:[{required:!0,message:"권한을 입력하세요."}],children:e.jsx(b,{})})},{label:"채널",key:"channels",children:e.jsx(t.Item,{name:"channelIds",children:e.jsx(y,{channels:a})}),span:2},{labelStyle:{borderRight:"none",visibility:"hidden"},span:2,contentStyle:{textAlign:"right"},children:e.jsx(j,{type:"primary",htmlType:"submit",loading:o,children:"저장"})}];return e.jsx("div",{className:g,children:e.jsx(t,{onFinish:l,children:e.jsx(x,{title:"Create Role",column:1,bordered:!0,size:"small",colon:!0,labelStyle:{whiteSpace:"nowrap"},items:c})})})}export{w as default};
