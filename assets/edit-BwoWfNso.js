import{bJ as j,bF as f,b$ as I,c0 as v,bK as N,bA as L,bL as P,r as C,bM as E,bu as s,bt as F,bN as A,bC as e,bH as l,bP as d,bR as Q,br as m,B as T,bI as $}from"../app.js";import{Q as w}from"./quill-editor-DU-DPZdz.js";import{a as J}from"./index-BruadH_M.js";function B(){const[b]=j(),h=f();console.debug("useNavigationType",I()),console.debug("useNavigation",v());const{id:a}=N(),n=a!==void 0,u=n?"put":"post",{refetch:p}=L(),{data:r}=P(),x=C.useMemo(()=>Array.isArray(r)?r.map(({id:o,name:t})=>({label:t,value:o})):[],[r]),{data:g,isLoading:c,isError:y,error:i}=E(["blog",a],async()=>l.get(`/post/${a}`),{enabled:n});return y?s.jsx("pre",{children:i==null?void 0:i.error}):c?s.jsx(F,{}):s.jsx(A,{title:`게시글 등록 ${u} ${c?"...":""}`,className:M,bordered:!0,children:s.jsxs(e,{initialValues:g,layout:"vertical",form:b,onFinish:o=>{l[u]("/post",o).then(t=>{d.success(s.jsx(Q.Paragraph,{ellipsis:{rows:3},style:{maxWidth:"90vw"},children:JSON.stringify(t)})),p(),h("..")}).catch(t=>d.error(JSON.stringify(t)))},children:[s.jsx(e.Item,{name:"id",hidden:!0,children:s.jsx(m,{})}),s.jsx(e.Item,{name:"title",label:"제목",rules:[{required:!0}],children:s.jsx(m,{tabIndex:1,autoFocus:!0})}),s.jsx(e.Item,{name:"categories",initialValue:[],children:s.jsx(J.Group,{options:x})}),s.jsx(e.Item,{name:"content",label:"내용",rules:[{required:!0}],children:s.jsx(w,{theme:"snow",tabIndex:1})}),s.jsx(e.Item,{children:s.jsx(T,{htmlType:"submit",children:"저장"})})]})})}const M=$`
  margin: 2em;
`;export{B as default};
