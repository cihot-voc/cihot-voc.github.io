import{l as p,n as u,A as r,s as d,j as e,F as s,i as h,B as j,D as x}from"../web.js";import{C as y}from"./channel-D-YDDonZ.js";import{P as b}from"./permission-Bxg67toE.js";import{I as g}from"./css-C3h7-5aW.js";import{u as I}from"./use-yup-params-8nHEo682.js";import{c as f}from"./index.esm-CnD8eApZ.js";import"./index-Cq2plmkM.js";import"./useBubbleLock-Kz7pQh5h.js";import"./DownOutlined-Bre27_U7.js";import"./index-C-CKWqDQ.js";function w(){const n=p(),{projectId:t}=I({projectId:f().required()}),{data:a=[]}=u(`project-${t}-channels`,r.channels.getList.bind(null,t),{enabled:t>0}),{mutateAsync:i,isLoading:o}=d(r.roles.create,{onSuccess:()=>{n(`/projects/${t}`,{replace:!0})}}),l=m=>{i({projectId:t,payload:m})},c=[{label:"명칭",key:"name",children:e.jsx(s.Item,{name:"name",required:!0,children:e.jsx(h,{type:"text",autoFocus:!0})})},{label:"권한",key:"permission",children:e.jsx(s.Item,{name:"permission",required:!0,children:e.jsx(b,{})})},{label:"채널",key:"channels",children:e.jsx(s.Item,{name:"channelIds",children:e.jsx(y,{channels:a})}),span:2},{labelStyle:{borderRight:"none",visibility:"hidden"},span:2,contentStyle:{textAlign:"right"},children:e.jsx(j,{type:"primary",htmlType:"submit",loading:o,children:"저장"})}];return e.jsx("div",{className:g,children:e.jsx(s,{onFinish:l,children:e.jsx(x,{title:"Create Role",column:1,bordered:!0,size:"small",colon:!0,labelStyle:{whiteSpace:"nowrap"},items:c})})})}export{w as default};
